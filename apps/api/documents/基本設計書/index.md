# Shadowwork Navigator Documents（filix-shadowwork-api）

## 概要
Shadowwork Navigator（filix-shadowwork-api）の基本設計書。全体構成、API仕様、データモデル、課金と利用権限、セキュリティ、利用制限と運用ポリシーを整理し、運用・拡張の判断基準を明確化する。

## 目次
- [00_概要](00_概要.md)  
  - システムの目的
  - スコープ
  - 全体像
  - 中継方式（平文中継＋暗号文保存）の前提

- [10_アーキテクチャ](10_アーキテクチャ.md)  
  - コンポーネント責務
  - 境界
  - データの所有権
  - メッセージ保存シーケンス（/api/thread/chat + /api/thread/message）

- [20_API仕様](20_API仕様.md)  
  - エンドポイント一覧
  - リクエスト/レスポンス
  - 認証
  - 共通エラー形式

- [30_データモデル](30_データモデル.md)  
  - D1テーブルの責務
  - 主要な関係
  - 重要な制約

- [40_課金と利用権限](40_課金と利用権限.md)  
  - paid判定
  - Stripe webhook（冪等性、再送）
  - 利用権限（有料/無料の機能差）
  - 失敗時の扱い（支払い反映遅延など）

- [50_セキュリティ](50_セキュリティ.md)
  - 認証（トークン、署名）
  - 重要データの保護（Secrets、PII）

- [60_利用制限と運用ポリシー](60_利用制限と運用ポリシー.md)
  - BAN/凍結/アカウント制限
  - レート制限方針
  - 悪用対応

## リンク
- フロントエンドリポジトリ: shadowwork-navigator
- バックエンドリポジトリ: filix-shadowwork-api
